$(document).ready(function(){function d(){var b=a.scrollTop(),c=1.1*a.height();$(".revealOnScroll:not(.animated)").each(function(){var a=$(this),d=a.offset().top;b+c>d&&(a.data("timeout")?(window.setTimeout(function(){a.addClass("animated "+a.data("animation"))},parseInt(a.data("timeout"),10)),$("#animated_sales .content").removeClass("running").delay(10).queue(function(a){$(this).addClass("running"),a()})):a.addClass("animated "+a.data("animation")))}),$(".revealOnScroll.animated").each(function(a){var d=$(this),e=d.offset().top;b+c<e&&$(this).removeClass("animated bounceInDown bounceInUp fadeIn flipInX fadeInUp fadeInDown fadeInLeft fadeInRight zoomIn video-line")})}function e(a,b){return 3!=b&&($(a).hasClass("dropdown-toggle")&&$(a).addClass("active"),void e($(a).parent().parent().prev(),++b))}var a=$(window),c=(1.1*a.height(),Modernizr.touch);c&&$(".revealOnScroll").addClass("animated"),a.on("scroll",d),d(),$('a[href^="#"]').on("click",function(a){var b=$(this.getAttribute("href"));b.length&&$("html, body").stop().animate({scrollTop:b.offset().top},1e3)}),$(function(){var a=window.location.hash;$(document).scroll(function(){$("body").find("section").each(function(){var b=window.pageYOffset,c=b-$(this).offset().top,d=$(this).attr("id");x=$(this),c<30&&c>-30&&a!=d&&(window.location.hash=d,a=d)})})}),$("#navbar-collapse-1 li").each(function(a,b){$(b).hasClass("dropdown")||$(b).on("click",function(){$("#navbar-collapse-1").removeClass("in")})}),$("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(a){a.preventDefault(),a.stopPropagation(),$(this).parent().siblings().removeClass("open"),$(this).parent().toggleClass("open")}),$(window).scroll(function(){for(var a=$(document).scrollTop(),b=$("body").find("section"),c=0;c<b.length;c++)a>$(b[c]).offset().top-50&&a<$(b[c]).offset().top+$(b[c]).height()-50?($('#header nav ul li a[href="#'+$(b[c]).attr("id")+'"]').addClass("active"),$("#navbar-collapse-1").find(".dropdown-toggle").removeClass("active"),e($('#header nav ul li a[href="#'+$(b[c]).attr("id")+'"]'),0)):$('#header nav ul li a[href="#'+$(b[c]).attr("id")+'"]').removeClass("active")});var f=jQuery(".style-switcher");$(".style-switcher-btn").click(function(){$(".style-switcher").show()}),$(".theme-close").click(function(){$(".style-switcher").hide()}),$("li",f).click(function(){var a=$(this).attr("data-style"),b=$(this).attr("data-header");g(a,b),$(".list-unstyled li",f).removeClass("theme-active"),$(this).addClass("theme-active")});var g=function(a,b){$("#style_color").attr("href","css/theme-"+a+".css")};$("#introduce-carousel").featureCarousel({carouselSpeed:500,autoPlay:2e3}),$("#owl-clients").owlCarousel({autoPlay:!1,items:1,itemsDesktop:[1200,1],itemsDesktopSmall:[960,1],itemsTablet:[768,1],itemsMobile:[640,1],nav:!0,rewindNav:!0,scrollPerPage:!1,pagination:!1,loop:!0}),$("#owl-latest-news").owlCarousel({autoPlay:1e5,items:3,itemsDesktop:[1200,3],itemsDesktopSmall:[960,2],itemsTablet:[768,2],itemsMobile:[640,1],nav:!0,navText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!1,loop:!0,responsiveClass:!0,responsive:{0:{items:1},640:{items:2},768:{items:2},960:{items:3}}}),$("#owl-recent-post").owlCarousel({autoPlay:5e3,nav:!0,navText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!1,loop:!0,responsiveClass:!0,responsive:{0:{items:1}}}),$('[href="#tab2"]').click(),$("#owl-projects-app").owlCarousel({nav:!0,responsive:{0:{items:1},600:{items:3},1e3:{items:3}}}),$('[href="#tab1"]').click(),$("#owl-recent-work").owlCarousel({autoPlay:3e3,nav:!0,navText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!1,loop:!0,responsiveClass:!0,responsive:{0:{items:1},640:{items:2},768:{items:3},960:{items:4},1200:{items:5}}}),$(".test-popup-link").magnificPopup({type:"image",removalDelay:300,mainClass:"mfp-fade"}),$(".next").click(function(){owl.trigger("owl.next")}),$(".prev").click(function(){owl.trigger("owl.prev")}),$(".play").click(function(){owl.trigger("owl.play",1e3)}),$(".stop").click(function(){owl.trigger("owl.stop")}),$("#services #loadMore").click(function(){$("#services #secondary-services").slideToggle("slow"),$(this).text("Show all services"==$(this).text()?"Hide all services":"Show all services")}),$("#hide-green-block").click(function(){$("#become_member").slideUp("slow")}),$(".tabbable.responsive").resptabs(),a.on("scroll resize",function(){$("#diagrams").find(".diagram_circles").each(function(b,c){var d=a.height(),e=a.scrollTop(),f=e+d,g=$(c),h=g.outerHeight(),i=g.offset().top,j=i+h;0==g.data("run")&&j>=e&&i<=f&&(g.circliful({percent:g.data("percent")}),g.data("run","1"))})}),$("#contact_us #contactform .close_popup").click(function(){$("#contact_us").addClass("clearmap"),$("#contact_us #contactform").slideUp("slow")}),$("#contact-form-button, #contact-form-button-close").click(function(){$("#contact-form").slideToggle("slow")}),$("#contact-form").find("form").on("submit",function(a){a.preventDefault(),$.post("/server.php",{name:$("#contact-form").find("#contact-name").val(),email:$("#contact-form").find("#contact-email").val(),phone:$("#contact-form").find("#contact-phone").val(),message:$("#contact-form").find("#contact-message").val()}).done(function(a){$("#contact-form").find("#contact-name").val(""),$("#contact-form").find("#contact-email").val(""),$("#contact-form").find("#contact-phone").val(""),$("#contact-form").find("#contact-message").val(""),$("#contact-form").find("#success").show("fade out"),setTimeout(function(){$("#contact-form").find("#success").hide("fade in")},5e3)})});var h=[41.0621212,-73.5423603],i=new google.maps.LatLng(h[0],h[1]),j={zoom:16,streetViewControl:!1,scaleControl:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,center:i,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]};if(map=new google.maps.Map(document.getElementById("googlemaps"),j),marker=new google.maps.Marker({position:{lat:41.0621212,lng:-73.5423603},map:map,draggable:!1,animation:google.maps.Animation.DROP}),!1===$.browser.mobile){$("body").append('<script src="js/webgl/earth.js" type="text/javascript"></script>');var k=$("#earth"),l=$("#webgl");THREE.DefaultLoadingManager.onProgress=function(a,b,c){b==c&&(k.show(),$("#loadingProgressG").hide())},$(window).scroll(function(){$(window).height()-$(window).scrollTop()<=0&&(k.detach(),$("#show_webgl_button").html("show animation"),$("#show_webgl_button").removeAttr("href"))}),$("#show_webgl_button").on("click",function(a){a.preventDefault(),1===l.children("#earth").length?(k.detach(),$("#show_webgl_button").html("show animation"),$("#show_webgl_button").removeAttr("href")):(k.appendTo("#webgl"),$("#show_webgl_button").html("get started"),$("#show_webgl_button").attr("href","#introduce"))})}});