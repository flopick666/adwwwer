"use strict";$(document).ready(function(){var c=$(window),g=c.height()*1.1,h=Modernizr.touch;if(h){$(".revealOnScroll").addClass("animated")}c.on("scroll",l);function l(){var n=c.scrollTop(),m=c.height()*1.1;for(var o=0;o<$(".revealOnScroll:not(.animated)").length;o++){var p=$($(".revealOnScroll:not(.animated)")[o],offsetTop=$($(".revealOnScroll:not(.animated)")[o])).offset().top;if(n+m>offsetTop){if(p.data("timeout")){window.setTimeout(function(){p.addClass("animated "+p.data("animation"))},parseInt(p.data("timeout"),10));$("#animated_sales .content").removeClass("running").delay(10).queue(function(q){$(this).addClass("running");q()})}else{p.addClass("animated "+p.data("animation"))}}}$(".revealOnScroll.animated").each(function(q){var s=$(this),r=s.offset().top;if(n+m<r){$(this).removeClass("animated bounceInDown bounceInUp fadeIn flipInX fadeInUp fadeInDown fadeInLeft fadeInRight zoomIn video-line")}})}l();$('a[href^="#"]').on("click",function(m){var n=$(this.getAttribute("href"));if(n.length){$("html, body").stop().animate({scrollTop:n.offset().top},1000)}});$(function(){var m=window.location.hash;$(document).scroll(function(){$("body").find("section").each(function(){var p=window.pageYOffset;var q=p-$(this).offset().top;var o=$(this).attr("id");var n=$(this);if(q<30&&q>-30&&m!=o){window.location.hash=(o);m=o}})})});$("#navbar-collapse-1 li").each(function(m,o){if(!$(o).hasClass("dropdown")){$(o).on("click",function(){$("#navbar-collapse-1").removeClass("in")})}});$("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(m){m.preventDefault();m.stopPropagation();$(this).parent().siblings().removeClass("open");$(this).parent().toggleClass("open")});function f(n,m){if(m==3){return false}if($(n).hasClass("dropdown-toggle")){$(n).addClass("active")}f($(n).parent().parent().prev(),++m)}$(window).scroll(function(){var o=$(document).scrollTop();var n=$("body").find("section");for(var m=0;m<n.length;m++){if(o>$(n[m]).offset().top-50&&o<$(n[m]).offset().top+$(n[m]).height()-50){$('#header nav ul li a[href="#'+$(n[m]).attr("id")+'"]').addClass("active");$("#navbar-collapse-1").find(".dropdown-toggle").removeClass("active");f($('#header nav ul li a[href="#'+$(n[m]).attr("id")+'"]'),0)}else{$('#header nav ul li a[href="#'+$(n[m]).attr("id")+'"]').removeClass("active")}}});$("#introduce-carousel").featureCarousel({carouselSpeed:500,autoPlay:2000});$("#owl-clients").owlCarousel({autoPlay:false,items:1,itemsDesktop:[1200,1],itemsDesktopSmall:[960,1],itemsTablet:[768,1],itemsMobile:[640,1],nav:true,rewindNav:true,scrollPerPage:false,pagination:false,loop:true});$("#owl-latest-news").owlCarousel({autoPlay:100000,items:3,itemsDesktop:[1200,3],itemsDesktopSmall:[960,2],itemsTablet:[768,2],itemsMobile:[640,1],nav:true,navText:["prev","next"],rewindNav:true,scrollPerPage:false,pagination:false,loop:true,responsiveClass:true,responsive:{0:{items:1},640:{items:2},768:{items:2},960:{items:3}}});$("#owl-recent-post").owlCarousel({autoPlay:5000,nav:true,navText:["prev","next"],rewindNav:true,scrollPerPage:false,pagination:false,loop:true,responsiveClass:true,responsive:{0:{items:1}}});$("#owl-recent-work").owlCarousel({autoPlay:3000,nav:true,navText:["prev","next"],rewindNav:true,scrollPerPage:false,pagination:false,loop:true,responsiveClass:true,responsive:{0:{items:1},640:{items:2},768:{items:3},960:{items:4},1200:{items:5}}});$(".test-popup-link").magnificPopup({type:"image",removalDelay:300,mainClass:"mfp-fade"});$("#services #loadMore").on("click",function(){$("#services #secondary-services").slideToggle("slow");$(this).text($(this).text()=="Show all services"?"Hide all services":"Show all services");return false});$("#hide-green-block").on("click",function(){$("#become_member").slideUp("slow");return false});$(".tabbable.responsive").resptabs();c.on("scroll resize",function(){$("#diagrams").find(".diagram_circles").each(function(p,s){var u=c.height();var r=c.scrollTop();var m=(r+u);var v=$(s);var t=v.outerHeight();var o=v.offset().top;var q=(o+t);if(0==v.data("run")){if((q>=r)&&(o<=m)){v.circliful({percent:v.data("percent")});v.data("run","1")}}})});$("#contact_us #contactform .close_popup").on("click",function(){$("#contact_us").addClass("clearmap");$("#contact_us #contactform").slideUp("slow")});$("#contact-form-button, #contact-form-button-close").on("click",function(){$("#contact-form").slideToggle("slow")});$("#contact-form").find("form").on("submit",function(m){m.preventDefault();$.post("/server.php",{name:$("#contact-form").find("#contact-name").val(),email:$("#contact-form").find("#contact-email").val(),phone:$("#contact-form").find("#contact-phone").val(),message:$("#contact-form").find("#contact-message").val()}).done(function(n){$("#contact-form").find("#contact-name").val("");$("#contact-form").find("#contact-email").val("");$("#contact-form").find("#contact-phone").val("");$("#contact-form").find("#contact-message").val("");$("#contact-form").find("#success").show("fade out");setTimeout(function(){$("#contact-form").find("#success").hide("fade in")},5000)})});if(false===$.browser.mobile){$("body").append('<script src="js/webgl/earth.js" type="text/javascript"><\/script>');var b=$("#earth"),i=$("#webgl");THREE.DefaultLoadingManager.onProgress=function(o,m,n){if(m==n){b.show();$("#loadingProgressG").hide()}};$(window).scroll(function(){if(($(window).height()-$(window).scrollTop())<=0){b.detach();$("#show_webgl_button").html("show animation");$("#show_webgl_button").removeAttr("href")}});$("#show_webgl_button").on("click",function(m){m.preventDefault();if(1===i.children("#earth").length){b.detach();$("#show_webgl_button").html("show animation");$("#show_webgl_button").removeAttr("href")}else{b.appendTo("#webgl");$("#show_webgl_button").html("get started");$("#show_webgl_button").attr("href","#introduce")}})}var k=[41.0621212,-73.5423603];var d=new google.maps.LatLng(k[0],k[1]);var e={zoom:16,streetViewControl:false,scaleControl:false,scrollwheel:false,navigationControl:false,mapTypeControl:false,mapTypeId:google.maps.MapTypeId.ROADMAP,center:d,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:0.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]};var a=new google.maps.Map(document.getElementById("googlemaps"),e);var j=new google.maps.Marker({position:{lat:41.0621212,lng:-73.5423603},map:a,draggable:false,animation:google.maps.Animation.DROP});google.maps.event.addListener(j,"click",function(){$("#contactform").show("slow")})});