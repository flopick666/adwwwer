"use strict";$(document).ready(function(){function e(){var e=a.scrollTop(),t=1.1*a.height();$(".revealOnScroll:not(.animated)").each(function(){var o=$(this),a=o.offset().top;e+t>a&&(o.data("timeout")?(window.setTimeout(function(){o.addClass("animated "+o.data("animation"))},parseInt(o.data("timeout"),10)),$("#animated_sales .content").removeClass("running").delay(10).queue(function(e){$(this).addClass("running"),e()})):o.addClass("animated "+o.data("animation")))}),$(".revealOnScroll.animated").each(function(o){var a=$(this),l=a.offset().top;e+t<l&&$(this).removeClass("animated bounceInDown bounceInUp fadeIn flipInX fadeInUp fadeInDown fadeInLeft fadeInRight zoomIn video-line")})}function t(e,o){return 3!=o&&($(e).hasClass("dropdown-toggle")&&$(e).addClass("active"),void t($(e).parent().parent().prev(),++o))}function o(){var e=new google.maps.LatLng(n[0],n[1]),t={zoom:16,streetViewControl:!1,scaleControl:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,center:e,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]};map=new google.maps.Map(document.getElementById("googlemaps"),t),marker=new google.maps.Marker({position:{lat:41.0621212,lng:-73.5423603},map:map,draggable:!1,animation:google.maps.Animation.DROP})}var a=$(window),l=(1.1*a.height(),Modernizr.touch);l&&$(".revealOnScroll").addClass("animated"),a.on("scroll",e),e(),$('a[href^="#"]').on("click",function(e){var t=$(this.getAttribute("href"));t.length&&$("html, body").stop().animate({scrollTop:t.offset().top},1e3)}),$(function(){var e=window.location.hash;$(document).scroll(function(){$("body").find("section").each(function(){var t=window.pageYOffset,o=t-$(this).offset().top,a=$(this).attr("id");x=$(this),o<30&&o>-30&&e!=a&&(window.location.hash=a,e=a)})})}),$("#navbar-collapse-1 li").each(function(e,t){$(t).hasClass("dropdown")||$(t).on("click",function(){$("#navbar-collapse-1").removeClass("in")})}),$("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).parent().siblings().removeClass("open"),$(this).parent().toggleClass("open")}),$(window).scroll(function(){for(var e=$(document).scrollTop(),o=$("body").find("section"),a=0;a<o.length;a++)e>$(o[a]).offset().top-50&&e<$(o[a]).offset().top+$(o[a]).height()-50?($('#header nav ul li a[href="#'+$(o[a]).attr("id")+'"]').addClass("active"),$("#navbar-collapse-1").find(".dropdown-toggle").removeClass("active"),t($('#header nav ul li a[href="#'+$(o[a]).attr("id")+'"]'),0)):$('#header nav ul li a[href="#'+$(o[a]).attr("id")+'"]').removeClass("active")}),$("#introduce-carousel").featureCarousel({carouselSpeed:500,autoPlay:2e3}),$("#owl-clients").owlCarousel({autoPlay:!1,items:1,itemsDesktop:[1200,1],itemsDesktopSmall:[960,1],itemsTablet:[768,1],itemsMobile:[640,1],nav:!0,rewindNav:!0,scrollPerPage:!1,pagination:!1,loop:!0}),$("#owl-latest-news").owlCarousel({autoPlay:1e5,items:3,itemsDesktop:[1200,3],itemsDesktopSmall:[960,2],itemsTablet:[768,2],itemsMobile:[640,1],nav:!0,navText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!1,loop:!0,responsiveClass:!0,responsive:{0:{items:1},640:{items:2},768:{items:2},960:{items:3}}}),$("#owl-recent-post").owlCarousel({autoPlay:5e3,nav:!0,navText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!1,loop:!0,responsiveClass:!0,responsive:{0:{items:1}}}),$("#owl-recent-work").owlCarousel({autoPlay:3e3,nav:!0,navText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!1,loop:!0,responsiveClass:!0,responsive:{0:{items:1},640:{items:2},768:{items:3},960:{items:4},1200:{items:5}}}),$(".test-popup-link").magnificPopup({type:"image",removalDelay:300,mainClass:"mfp-fade"}),$("#services #loadMore").on("click",function(){$("#services #secondary-services").slideToggle("slow"),$(this).text("Show all services"==$(this).text()?"Hide all services":"Show all services")}),$("#hide-green-block").on("click",function(){$("#become_member").slideUp("slow")}),$(".tabbable.responsive").resptabs(),a.on("scroll resize",function(){$("#diagrams").find(".diagram_circles").each(function(e,t){var o=a.height(),l=a.scrollTop(),n=l+o,s=$(t),r=s.outerHeight(),i=s.offset().top,c=i+r;0==s.data("run")&&c>=l&&i<=n&&(s.circliful({percent:s.data("percent")}),s.data("run","1"))})}),$("#contact_us #contactform .close_popup").on("click",function(){$("#contact_us").addClass("clearmap"),$("#contact_us #contactform").slideUp("slow")}),$("#contact-form-button, #contact-form-button-close").on("click",function(){$("#contact-form").slideToggle("slow")});var n=[41.0621212,-73.5423603];google.maps.event.addDomListener(window,"load",o),$("#contact-form").find("form").on("submit",function(e){e.preventDefault(),$.post("/server.php",{name:$("#contact-form").find("#contact-name").val(),email:$("#contact-form").find("#contact-email").val(),phone:$("#contact-form").find("#contact-phone").val(),message:$("#contact-form").find("#contact-message").val()}).done(function(e){$("#contact-form").find("#contact-name").val(""),$("#contact-form").find("#contact-email").val(""),$("#contact-form").find("#contact-phone").val(""),$("#contact-form").find("#contact-message").val(""),$("#contact-form").find("#success").show("fade out"),setTimeout(function(){$("#contact-form").find("#success").hide("fade in")},5e3)})});var n=[41.0621212,-73.5423603],s=new google.maps.LatLng(n[0],n[1]),r={zoom:16,streetViewControl:!1,scaleControl:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,center:s,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]};if(map=new google.maps.Map(document.getElementById("googlemaps"),r),marker=new google.maps.Marker({position:{lat:41.0621212,lng:-73.5423603},map:map,draggable:!1,animation:google.maps.Animation.DROP}),!1===$.browser.mobile){$("body").append('<script src="js/webgl/earth.js" type="text/javascript"></script>');var i=$("#earth"),c=$("#webgl");THREE.DefaultLoadingManager.onProgress=function(e,t,o){t==o&&(i.show(),$("#loadingProgressG").hide())},$(window).scroll(function(){$(window).height()-$(window).scrollTop()<=0&&(i.detach(),$("#show_webgl_button").html("show animation"),$("#show_webgl_button").removeAttr("href"))}),$("#show_webgl_button").on("click",function(e){e.preventDefault(),1===c.children("#earth").length?(i.detach(),$("#show_webgl_button").html("show animation"),$("#show_webgl_button").removeAttr("href")):(i.appendTo("#webgl"),$("#show_webgl_button").html("get started"),$("#show_webgl_button").attr("href","#introduce"))})}});